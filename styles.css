:root{
  --gap:16px;
  --card-ratio: 4/3;   /* Einheitliches Kachel-Format */
  --thumb-bg: #f1f2f5;
  --text:#0e0f12; --muted:#666;
}
@media (prefers-color-scheme: dark){
  :root{ --thumb-bg:#1d2230; --text:#e9ebf1; --muted:#a2a7b7; }
}

*{box-sizing:border-box}
body{margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Inter, sans-serif; color:var(--text); background:#fafafa;}
@media (prefers-color-scheme: dark){ body{ background:#0f1116; } }

.topbar{
  position:sticky; top:0; z-index:2; display:flex; gap:12px; align-items:center; justify-content:space-between;
  padding:12px 16px; background:rgba(255,255,255,.9); border-bottom:1px solid #e7e8ee; backdrop-filter: blur(10px);
}
@media (prefers-color-scheme: dark){ .topbar{ background:rgba(16,18,24,.7); border-bottom-color:#222633; } }
.topbar h1{font-size:18px; margin:0}
.topbar button{padding:8px 12px; border-radius:8px; border:1px solid #d8dbe6; background:#fff; cursor:pointer}
@media (prefers-color-scheme: dark){ .topbar button{ border-color:#30364a; background:#1a1e29; color:#e9ebf1 } }

.status{ text-align:center; color:var(--muted); padding:18px }

main{ max-width:1200px; margin:0 auto; padding: 8px 16px 40px }

.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: var(--gap);
}

/* Karten: alle gleich gro√ü, Bilder NICHT verzerren (contain) */
.card{
  border:1px solid rgba(0,0,0,.06); border-radius:14px; overflow:hidden; background:rgba(255,255,255,.7);
  box-shadow: 0 10px 26px rgba(0,0,0,.08); transition: transform .12s ease;
}
@media (prefers-color-scheme: dark){
  .card{ background:rgba(25,28,36,.6); border-color:rgba(255,255,255,.06); box-shadow: 0 14px 28px rgba(0,0,0,.45); }
}
.card:hover{ transform: translateY(-2px) }

.thumb{
  aspect-ratio: var(--card-ratio);
  background: var(--thumb-bg);
  display:flex; align-items:center; justify-content:center;
}
.thumb img{
  width: 100%;
  height: 100%;
  object-fit: contain;      /* Original-Proportionen */
  object-position: center;  /* mittig */
  display:block;
}

.info{ padding:12px 14px 14px }
.title{ font-weight:700; margin:2px 0 6px; line-height:1.2 }
.price{ margin:0; font-weight:700; }

.icon-btn{
  position:absolute; top:10px; right:10px; width:40px; height:40px; border-radius:12px;
  border:1px solid rgba(0,0,0,.08); background:rgba(255,255,255,.85); cursor:pointer;
}
@media (prefers-color-scheme: dark){
  .icon-btn{ border-color:rgba(255,255,255,.08); background:rgba(22,25,32,.85); color:#e9ebf1 }
}

/* Modal */
dialog{ border:none; border-radius:16px; width:min(1100px, 96vw); padding:0; }
dialog::backdrop{ background: rgba(0,0,0,.5); }
.modal-body{ display:grid; grid-template-columns: 1fr 320px; gap:16px; padding:16px; }
@media (max-width:820px){ .modal-body{ grid-template-columns:1fr; } }

.canvas{
  width:100%; height:min(80vh, 70dvh);
  background: var(--thumb-bg);
  border-radius:12px; overflow:hidden; position:relative;
  display:flex; align-items:center; justify-content:center;
}
#modalImg{
  transform-origin:center center;   /* sauberer Zoom aus der Mitte */
  max-width:none; max-height:none;  /* wir steuern selbst via transform */
}

.meta{ display:flex; flex-direction:column; gap:12px }
.zoomctl{ display:flex; align-items:center; gap:10px }
.link{ text-decoration:none; border:1px solid #d8dbe6; padding:8px 12px; border-radius:8px; }
@media (prefers-color-scheme: dark){ .link{ border-color:#30364a; color:#e9ebf1 } }

/* Skeletons */
.skeleton .thumb{ position:relative; overflow:hidden }
.skeleton .thumb::after, .skeleton .line::after{
  content:""; position:absolute; inset:0; background:linear-gradient(90deg, transparent, #fff6, transparent);
  animation: shimmer 1.1s infinite;
}
.skeleton .info{ position:relative }
.skeleton .line{ height:14px; background:#e3e6f0; border-radius:6px; margin:10px 14px }
.skeleton .line.short{ width:40% }
@media (prefers-color-scheme: dark){
  .skeleton .line{ background:#30364a }
}
@keyframes shimmer{ from{transform:translateX(-100%)} to{transform:translateX(100%)} }
